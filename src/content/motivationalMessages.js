// src/content/motivationalMessages.js
// –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –¥–Ω–µ–≤–Ω—ã—Ö –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π (–ë–ï–ó –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è AI)

// –°–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è 14:00 (–∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ < 30%)
const afternoonLowProgress = [
  {
    emoji: 'üí™',
    title: '–í—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å!',
    text: '–£ —Ç–µ–±—è –µ—â—ë {{remaining}} {{taskWord}} –Ω–∞ —Å–µ–≥–æ–¥–Ω—è.\n\n–ü–æ–º–Ω–∏: –∫–∞–∂–¥–∞—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç —Ç–µ–±—è –∫ —Ü–µ–ª–∏!\n–ù–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–π –Ω–∞ –ø–æ—Ç–æ–º - –Ω–∞—á–Ω–∏ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å! üî•'
  },
  {
    emoji: '‚ö°',
    title: '–ü–æ–ª–æ–≤–∏–Ω–∞ –¥–Ω—è –ø—Ä–æ—à–ª–∞!',
    text: '–û—Å—Ç–∞–ª–æ—Å—å {{remaining}} {{taskWord}}.\n\n–°–µ–π—á–∞—Å —Å–∞–º–æ–µ –≤—Ä–µ–º—è –≤–æ–π—Ç–∏ –≤ –ø–æ—Ç–æ–∫!\n–í—ã–ø–æ–ª–Ω–∏ —Ö–æ—Ç—è –±—ã 5 –∑–∞–¥–∞—á –ø–æ–¥—Ä—è–¥ - –ø–æ—á—É–≤—Å—Ç–≤—É–µ—à—å –ø—Ä–∏–ª–∏–≤ —ç–Ω–µ—Ä–≥–∏–∏! üí•'
  },
  {
    emoji: 'üéØ',
    title: '–î–∞–≤–∞–π –Ω–∞–≤–µ—Ä—Å—Ç–∞–µ–º!',
    text: '–ï—â—ë {{remaining}} {{taskWord}} –∂–¥—É—Ç —Ç–µ–±—è.\n\n–ú–∞–ª–µ–Ω—å–∫–∏–π —Å–µ–∫—Ä–µ—Ç: –Ω–∞—á–Ω–∏ —Å –°–ê–ú–û–ô –ø—Ä–æ—Å—Ç–æ–π –∑–∞–¥–∞—á–∏.\n–û–Ω–∞ –∑–∞–ø—É—Å—Ç–∏—Ç —Ü–µ–ø–Ω—É—é —Ä–µ–∞–∫—Ü–∏—é –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏! üöÄ'
  },
  {
    emoji: 'üî•',
    title: '–†–∞–∑–æ–∂–≥–∏ —Å–≤–æ–π –æ–≥–æ–Ω—å!',
    text: '–£ —Ç–µ–±—è {{remaining}} {{taskWord}}.\n\n–ü–æ—Å—Ç–∞–≤—å —Ç–∞–π–º–µ—Ä –Ω–∞ 25 –º–∏–Ω—É—Ç.\n–°–∫–æ–ª—å–∫–æ —É—Å–ø–µ–µ—à—å –∑–∞–∫—Ä—ã—Ç—å –∑–∞ —ç—Ç–æ –≤—Ä–µ–º—è? –ü–æ–µ—Ö–∞–ª–∏! ‚è±Ô∏è'
  },
  {
    emoji: 'üí°',
    title: '–í—Ä–µ–º—è –≤–∫–ª—é—á–∏—Ç—å—Å—è!',
    text: '–û—Å—Ç–∞–ª–æ—Å—å {{remaining}} {{taskWord}}.\n\n–°–æ–≤–µ—Ç –¥–Ω—è: –¥–µ–ª–∞–π –∑–∞–¥–∞—á–∏ –±–ª–æ–∫–∞–º–∏ –ø–æ 3 —à—Ç—É–∫–∏.\n–≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –¥–µ—Ä–∂–∞—Ç—å —Ñ–æ–∫—É—Å! üéØ'
  }
];

// –°–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è 14:00 (–∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ 30-60%)
const afternoonMediumProgress = [
  {
    emoji: 'üëç',
    title: '–û—Ç–ª–∏—á–Ω—ã–π —Ç–µ–º–ø!',
    text: '–¢—ã —É–∂–µ {{completed}} {{taskWord}} {{completedVerb}}!\n\n–û—Å—Ç–∞–ª–æ—Å—å –µ—â—ë {{remaining}}.\n–ü—Ä–æ–¥–æ–ª–∂–∞–π –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ - —Ç—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏! üéØ'
  },
  {
    emoji: 'üåü',
    title: '–¢—ã –º–æ–ª–æ–¥–µ—Ü!',
    text: '–£–∂–µ {{completed}} –∑–∞–¥–∞—á –ø–æ–∑–∞–¥–∏!\n\n–ï—â—ë {{remaining}} {{taskWord}} - –∏ —Ç—ã —á–µ–º–ø–∏–æ–Ω –¥–Ω—è.\n–ù–µ —Å–±–∞–≤–ª—è–π —Ç–µ–º–ø! üí™'
  },
  {
    emoji: '‚ö°',
    title: '–¢—ã –≤ —É–¥–∞—Ä–µ!',
    text: '{{completed}} {{taskWord}} {{completedVerb}} - —ç—Ç–æ —Å–∏–ª–∞!\n\n–î–æ —Ñ–∏–Ω–∏—à–∞ –æ—Å—Ç–∞–ª–æ—Å—å {{remaining}}.\n–¢—ã —Å–ø—Ä–∞–≤–∏—à—å—Å—è! üî•'
  },
  {
    emoji: 'üöÄ',
    title: '–ü—Ä–æ–≥—Ä–µ—Å—Å –µ—Å—Ç—å!',
    text: '{{completed}} –∑–∞–¥–∞—á —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!\n\n–û—Å—Ç–∞–ª–æ—Å—å {{remaining}}.\n–¢—ã –Ω–∞ —Å–µ—Ä–µ–¥–∏–Ω–µ –ø—É—Ç–∏ - —Å–∞–º–æ–µ –≤—Ä–µ–º—è —É—Å–∫–æ—Ä–∏—Ç—å—Å—è! ‚ö°'
  }
];

// –°–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è 18:00 (–∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ < 60%)
const eveningLowProgress = [
  {
    emoji: '‚è∞',
    title: '–í–µ—á–µ—Ä! –ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä—ã–≤–æ–∫!',
    text: '–û—Å—Ç–∞–ª–æ—Å—å {{remaining}} {{taskWord}}.\n\n–£ —Ç–µ–±—è –µ—â—ë –µ—Å—Ç—å –≤—Ä–µ–º—è!\n–ó–∞–∫—Ä–æ–π —Ö–æ—Ç—è –±—ã –ø–æ–ª–æ–≤–∏–Ω—É - —ç—Ç–æ —É–∂–µ –ø–æ–±–µ–¥–∞! üí™'
  },
  {
    emoji: 'üåô',
    title: '–ù–µ —Å–¥–∞–≤–∞–π—Å—è!',
    text: '–î–µ–Ω—å –ø–æ—á—Ç–∏ –ø—Ä–æ—à—ë–ª, –Ω–æ —É —Ç–µ–±—è {{remaining}} {{taskWord}}.\n\n–î–∞–∂–µ –µ—Å–ª–∏ –∑–∞–∫—Ä–æ–µ—à—å –Ω–µ –≤—Å–µ - —ç—Ç–æ –ª—É—á—à–µ, —á–µ–º –Ω–∏—á–µ–≥–æ.\n–ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ! üéØ'
  },
  {
    emoji: 'üí•',
    title: '–§–∏–Ω–∏—à–Ω–∞—è –ø—Ä—è–º–∞—è!',
    text: '–ï—â—ë {{remaining}} {{taskWord}}.\n\n–í–∫–ª—é—á–∏ –ª—é–±–∏–º—É—é –º—É–∑—ã–∫—É –∏ —Å–¥–µ–ª–∞–π –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä—ã–≤–æ–∫!\n–ó–∞–≤—Ç—Ä–∞ —Ç—ã –±—É–¥–µ—à—å –≥–æ—Ä–¥–∏—Ç—å—Å—è —Å–æ–±–æ–π! üî•'
  },
  {
    emoji: '‚ö°',
    title: '–í–µ—á–µ—Ä–Ω–∏–π —Å–ø—Ä–∏–Ω—Ç!',
    text: '{{remaining}} {{taskWord}} –¥–æ –∫–æ–Ω—Ü–∞ –¥–Ω—è.\n\n–ü–æ—Å—Ç–∞–≤—å —Ü–µ–ª—å: –∑–∞–∫—Ä—ã—Ç—å –º–∏–Ω–∏–º—É–º 5 –∑–∞–¥–∞—á.\n–¢—ã –º–æ–∂–µ—à—å –±–æ–ª—å—à–µ, —á–µ–º –¥—É–º–∞–µ—à—å! üí™'
  },
  {
    emoji: 'üéØ',
    title: '–í—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å!',
    text: '–£ —Ç–µ–±—è {{remaining}} {{taskWord}}.\n\n–ù–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–π –Ω–∞ –∑–∞–≤—Ç—Ä–∞ —Ç–æ, —á—Ç–æ –º–æ–∂–µ—à—å —Å–¥–µ–ª–∞—Ç—å —Å–µ–≥–æ–¥–Ω—è.\n–ù–∞—á–Ω–∏ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°! üöÄ'
  }
];

// –°–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è 18:00 (–∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ 60-90%)
const eveningGoodProgress = [
  {
    emoji: 'üî•',
    title: '–û—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—à—å!',
    text: '–¢—ã {{completedVerb}} —É–∂–µ {{completed}} {{taskWord}}!\n\n–û—Å—Ç–∞–ª–æ—Å—å –≤—Å–µ–≥–æ {{remaining}}.\n–ï—â—ë —á—É—Ç—å-—á—É—Ç—å - –∏ –¥–µ–Ω—å —Ç–≤–æ–π! üí™'
  },
  {
    emoji: '‚≠ê',
    title: '–ü–æ—á—Ç–∏ —É —Ü–µ–ª–∏!',
    text: '{{completed}} –∑–∞–¥–∞—á –ø–æ–∑–∞–¥–∏!\n\n–ï—â—ë {{remaining}} - –∏ —Ç—ã –ª–µ–≥–µ–Ω–¥–∞ –¥–Ω—è.\n–§–∏–Ω–∏—à –±–ª–∏–∑–∫–æ! üéØ'
  },
  {
    emoji: 'üí™',
    title: '–°–∏–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!',
    text: '{{completed}} {{taskWord}} –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!\n\n–û—Å—Ç–∞–ª–æ—Å—å {{remaining}}.\n–¢—ã —Å–ø—Ä–∞–≤–∏—à—å—Å—è - —ç—Ç–æ —É–∂–µ –æ—á–µ–≤–∏–¥–Ω–æ! üöÄ'
  },
  {
    emoji: 'üéñÔ∏è',
    title: '–¢—ã –Ω–∞ –≤—ã—Å–æ—Ç–µ!',
    text: '–£–∂–µ {{completed}} –∑–∞–¥–∞—á!\n\n–ï—â—ë {{remaining}} {{taskWord}} - –∏ —Ç—ã –≥–µ—Ä–æ–π –¥–Ω—è.\n–î–∞–≤–∞–π, —Ñ–∏–Ω–∏—à–Ω–∞—è –ø—Ä—è–º–∞—è! ‚ö°'
  }
];

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
function getRandomMessage(messages) {
  return messages[Math.floor(Math.random() * messages.length)];
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–∏—Å–ª–∞ –∑–∞–¥–∞—á
function formatTaskWord(count) {
  if (count === 1) return '–∑–∞–¥–∞—á–∞';
  if (count >= 2 && count <= 4) return '–∑–∞–¥–∞—á–∏';
  return '–∑–∞–¥–∞—á';
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≥–ª–∞–≥–æ–ª–∞ "–≤—ã–ø–æ–ª–Ω–∏–ª/–≤—ã–ø–æ–ª–Ω–∏–ª–∞"
function formatCompletedVerb(count) {
  if (count === 1) return '–≤—ã–ø–æ–ª–Ω–µ–Ω–∞';
  if (count >= 2 && count <= 4) return '–≤—ã–ø–æ–ª–Ω–µ–Ω—ã';
  return '–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';
}

// –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
function getMotivationalMessage(completed, total, timeOfDay) {
  const remaining = total - completed;
  const percentage = Math.round((completed / total) * 100);

  let messageTemplate;

  // –í—ã–±–∏—Ä–∞–µ–º –ø–æ–¥—Ö–æ–¥—è—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
  if (timeOfDay === 'afternoon') { // 14:00
    if (percentage < 30) {
      messageTemplate = getRandomMessage(afternoonLowProgress);
    } else if (percentage < 60) {
      messageTemplate = getRandomMessage(afternoonMediumProgress);
    } else {
      // –ï—Å–ª–∏ —É–∂–µ > 60% –≤ 14:00 - –º–æ–ª–æ–¥–µ—Ü! –ù–µ –±–µ—Å–ø–æ–∫–æ–∏–º
      return null;
    }
  } else if (timeOfDay === 'evening') { // 18:00
    if (percentage < 60) {
      messageTemplate = getRandomMessage(eveningLowProgress);
    } else if (percentage < 90) {
      messageTemplate = getRandomMessage(eveningGoodProgress);
    } else {
      // –ï—Å–ª–∏ —É–∂–µ > 90% –≤ 18:00 - –≤—Å—ë –æ—Ç–ª–∏—á–Ω–æ! –ù–µ –±–µ—Å–ø–æ–∫–æ–∏–º
      return null;
    }
  }

  // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
  const taskWord = formatTaskWord(remaining);
  const completedVerb = formatCompletedVerb(completed);

  const text = messageTemplate.text
    .replace(/\{\{remaining\}\}/g, remaining)
    .replace(/\{\{completed\}\}/g, completed)
    .replace(/\{\{taskWord\}\}/g, taskWord)
    .replace(/\{\{completedVerb\}\}/g, completedVerb);

  return {
    emoji: messageTemplate.emoji,
    title: messageTemplate.title,
    text: text
  };
}

module.exports = {
  getMotivationalMessage,
  afternoonLowProgress,
  afternoonMediumProgress,
  eveningLowProgress,
  eveningGoodProgress
};
